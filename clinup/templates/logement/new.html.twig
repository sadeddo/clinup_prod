{% extends 'base1.html.twig' %}

{% block title %}Logements{% endblock %}

{% block body %}
    <main class="main-container logem">
        <div class="container" style="width: auto;height: auto;background-color: white;border: 1px solid rgba(0, 0, 0, 0.16);border-radius: 3%;padding: 3%;margin-top:3%;">
        {% for messages in app.flashes('success') %}
                <div class="alert alert-success">{{ messages }}</div>
            {% endfor %}
            {% for messages in app.flashes('error') %}
                <div class="alert alert-danger">{{ messages }}</div>
            {% endfor %}
    <strong><h5 style="font-size: 20px;">Ajouter un logement</h5></strong></br>
 <form method="post" enctype="multipart/form-data">
    <div class="row" style="margin-bottom: 3%;">
        <div class="col-md-6">
            <div class="form-group">
                <label for="nom">Nom</label>
                <input type="text" class="form-control" id="nom" name="logement[nom]" placeholder="Donnez un nom a votre logement" required>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="surface">Surface en m2</label>
                <input type="text" class="form-control" id="surface" name="logement[surface]" placeholder="" required>
            </div>
        </div>
    </div>
<div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label for="nbrChambre">Nombre des Chambres</label>
                <div id="hour-selector" class="hour-selector">
                    <button type="button" onclick="changeHours(-1)">-</button>
                    <input type="number" id="hourValue" name="logement[nbrChambre]" value="1" min="1" max="5" step="1" readonly>
                    <button type="button" onclick="changeHours(1)">+</button>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="nbrBain">Nombre de pièces</label>
                <div id="hour-selector" class="hour-selector">
                    <button type="button" onclick="changeHours1(-1)">-</button>
                    <input type="number" id="hourValueB" name="logement[nbrBain]" value="1" min="1" max="5" step="1" readonly>
                    <button type="button" onclick="changeHours1(1)">+</button>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="description">Image</label>
        {{ form_widget(form.img) }}
    </div><br>
    <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <label for="adresse">Lien Ical airbnb</label>
                <input type="text" id="airbnb" class="form-control" name="logement[airbnb]" placeholder="Entrez le lien Ical d'airbnb">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <label for="adresse">Lien Ical booking</label>
                <input type="text" id="booking" class="form-control" name="logement[booking]" placeholder="Entrez le lien Ical de booking">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <label for="adresse">Adresse</label>
                <input type="text" id="adress" class="form-control" id="adresse" name="logement[adresse]" placeholder="Adresse" required>
            </div>
        </div></div>
        <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <label for="completAdresse">Complément d'adresse</label>
                <input type="text" class="form-control" id="completAdresse" name="logement[completAdresse]" placeholder="Appartement, étage, etc.">
            </div>
        </div>
    </div>
     <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <label for="completAdresse">Accès au logement</label>
                <input type="text" class="form-control" id="acces" name="logement[acces]" placeholder="Précisez toutes les informations nécessaires pour entrer dans le logement (code du portail, code boîte à clé, numéro de l'étage, numéro de l'appartement, etc). Soyez le plus précis possible !">
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="description">Description</label>
        <textarea class="form-control" id="description" name="logement[description]" placeholder="Décrivez le logement de manière pour que le prestataire de ménage puisse visualiser l’appartement"></textarea>
    </div><br>

    <div>
        <button type="submit"  class="btn btn-secondary" style="width: 126px;padding-top: 2%;padding-bottom: 2%;font-size: 0.9rem;margin: auto;">{{ button_label|default('Enregistrer') }}</button>
    </div>
    {{ form_row(form._token) }}
</form><br>
<script>
function changeHours(change) {
    var currentValue = parseInt(document.getElementById('hourValue').value);
    var totalValue = currentValue + change; // Increase or decrease the value by 1
    
    // Ensure the value stays within an acceptable range
    if (totalValue < 1) totalValue = 1; // Lower limit 1
    if (totalValue > 5) totalValue = 5; // Upper limit 5

    // Update the input value
    document.getElementById('hourValue').value = totalValue;
}
function changeHours1(change) {
    var currentValue = parseInt(document.getElementById('hourValueB').value);
    var totalValue = currentValue + change; // Increase or decrease the value by 1
    
    // Ensure the value stays within an acceptable range
    if (totalValue < 1) totalValue = 1; // Lower limit 1
    if (totalValue > 5) totalValue = 5; // Upper limit 5

    // Update the input value
    document.getElementById('hourValueB').value = totalValue;
}
</script>

</div>
    </main>
{% endblock %}
